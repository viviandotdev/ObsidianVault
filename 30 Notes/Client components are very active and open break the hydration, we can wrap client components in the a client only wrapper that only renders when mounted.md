---
created: 2023-09-22 18:01
modified: Friday 22nd September 2023 18:01:57
alias:
---
up::
tags:: #nextjs #react #client-components
related:: [[Hyrdation]]
## Client components are very active and often break the hydration, we can wrap client components in the client only wrapper that only renders when mounted

### Create a client only component
``` tsx
"use client";
import React, { use } from "react";

interface ClientOnlyProps {
  children: React.ReactNode;
}

export const ClientOnly: React.FC<ClientOnlyProps> = ({ children }) => {
  const [hasMounted, setHasMounted] = React.useState(false);

  React.useEffect(() => {
    setHasMounted(true);
  }, []);

  if (!hasMounted) return null;
  return <div>{children}</div>;
};

```


### Wrap use client components in the clientOnly component

``` tsx
import "./globals.css";
import { Nunito } from "next/font/google";
import type { Metadata } from "next";
import { NavBar } from "./components/navbar/NavBar";
import { ClientOnly } from "./components/ClientOnly";
import RegisterModal from "./components/modals/RegisterModal";
import ToasterProvider from "./providers/ToastProvider";
const font = Nunito({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={font.className}>
        <ClientOnly>
          <ToasterProvider />
          <RegisterModal />
          <NavBar />
        </ClientOnly>
        {children}
      </body>
    </html>
  );
}

```
